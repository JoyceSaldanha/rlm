<app-abbegate-header></app-abbegate-header>
<div class="quote-live-container">
  <div class="view-section">
    <div class="search-section">
      <div>
        <p-iconField iconPosition="left">
          <p-inputIcon styleClass="pi pi-search" />
          <input type="text" pInputText placeholder="Search by keyword" />
        </p-iconField>
      </div>
      <div class="calendar-section">
        <div style="display: flex; gap: 1rem">
          From:<p-calendar dateFormat="dd/mm/yy" />
        </div>
        <div style="display: flex; gap: 2rem">
          To:<p-calendar dateFormat="dd/mm/yy" />
        </div>
      </div>
    </div>
    <div class="table-section">
      <p-table [value]="products">
        <ng-template pTemplate="header">
          <tr>
            <th>Quote ID</th>
            <th>Date</th>
            <th>Created By</th>
            <th>Company</th>
            <th>Contact</th>
            <th>Reference</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product>
          <tr>
            <td
              (click)="openDetails()"
              style="cursor: pointer; color: blue; text-decoration: underline"
            >
              {{ product.code }}
            </td>
            <td>{{ product.name }}</td>
            <td>{{ product.category }}</td>
            <td>{{ product.group }}</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>

  <div class="detail-section">
    <!-- <div *ngIf="isDetails"> -->
    <div>
      <div class="action-buttons">
        <p-button label="New Quote" [text]="true" />
        <p-button label="Delete Quote" [text]="true" />
        <p-button label="Copy Quote" [text]="true" />
        <p-button
          label="Email Quote"
          [text]="true"
          (onClick)="openEmailDialog()"
        />
        <p-button label="View Quote" [text]="true" />
        <p-button label="Releted Files" [text]="true" />
        <p-button label="Sales Order" [text]="true" />
        <p-button label="Sales Quote" [text]="true" />
      </div>
      <div style="display: flex">
        <div class="quote-details">
          <p-floatLabel>
            <input id="username" type="text" pInputText />
            <label for="username">Company</label>
          </p-floatLabel>
          <p-floatLabel>
            <input id="username" type="text" pInputText />
            <label for="username">Contact</label>
          </p-floatLabel>
          <p-floatLabel>
            <input id="username" type="text" pInputText />
            <label for="username">Entered By</label>
          </p-floatLabel>
          <p-floatLabel>
            <input id="username" type="text" pInputText />
            <label for="username">Conversion Rating</label>
          </p-floatLabel>
          <p-floatLabel>
            <input id="username" type="text" pInputText />
            <label for="username">Reference</label>
          </p-floatLabel>
          <p-floatLabel>
            <input id="username" type="text" pInputText />
            <label for="username">Valid for</label>
          </p-floatLabel>
          <p-calendar placeholder="Date" />
          <p-floatLabel>
            <input id="username" type="text" pInputText />
            <label for="username">Job</label>
          </p-floatLabel>
          <p-floatLabel>
            <input id="username" type="text" pInputText />
            <label for="username">Estimated Value</label>
          </p-floatLabel>
          <div>
            <p-checkbox value="New York" inputId="va" />
            <label for="va">VAT Required</label>
          </div>
        </div>
        <div>
          <!-- <h5>Product Image</h5> -->
          <img
            src="../../../../assets/images/image.png"
            alt="No Image"
            style="width: 6rem; margin: 4rem 10rem"
          />
        </div>
      </div>

      <div>
        <div>
          <p-tabView>
            <p-tabPanel header="Items">
              <p>Lorem ipsum dolor sit amet...</p>
            </p-tabPanel>
            <p-tabPanel header="Notes">
              <p>
                Sed ut perspiciatis unde omnis iste natus error sit voluptatem
                accusantium...
              </p>
            </p-tabPanel>
          </p-tabView>
        </div>

        <div></div>
      </div>
    </div>
  </div>
</div>

<p-dialog
  header="Send email"
  [modal]="true"
  [(visible)]="isEmailDialog"
  [style]="{ width: '30rem' }"
>
  <div class="mail">
    <div style="display: grid">
      To
      <p-chips (onAdd)="onRecipientAdded($event)"></p-chips>
    </div>
    <div style="display: grid">
      CC
      <p-chips (onAdd)="onCCAdded($event)"></p-chips>
    </div>
    <div style="display: grid">
      Subject
      <input pInputText />
    </div>
    <div style="display: grid">
      Body
      <textarea rows="5" cols="30" pInputTextarea></textarea>
    </div>
    <div style="display: grid">Attachment</div>
  </div>
  <div></div>
  <div class="flex justify-content-end gap-2">
    <p-button
      label="Cancel"
      severity="secondary"
      (click)="isEmailDialog = false"
    />
    <p-button label="Send" (click)="sendEmail()" />
  </div>
</p-dialog>
